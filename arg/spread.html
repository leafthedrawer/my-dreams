<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>System Search</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&family=Comfortaa:wght@300..700&family=Loved+by+the+King&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Libre+Franklin:ital,wght@0,100..900;1,100..900&family=Loved+by+the+King&display=swap" rel="stylesheet">
<style>
body {
  background-color: #0f1512;
  color: #cfe6d6;
  font-family: 'Libre Franklin', sans-serif;
  margin: 0;
  padding: 60px 20px;
}

.page {
  max-width: 700px;
  margin: auto;
  background-color: #141d18;
  padding: 40px;
  border-radius: 14px;
  box-shadow: 0 0 40px #00000088;
}

h1 {
  font-size: 18px;
  color: #9fd3b7;
  margin-bottom: 20px;
  letter-spacing: 1px;
}

.meta {
  font-size: 12px;
  color: #7fa897;
  margin-bottom: 25px;
  font-style: italic;
}

/* search input */
.search-box {
  margin-bottom: 30px;
}

.search-box input {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: 1px solid #3f5f52;
  background-color: #0c120f;
  color: #cfe6d6;
  font-size: 14px;
  font-family: 'Comfortaa', sans-serif;
  outline: none;
}

.search-box input::placeholder {
  color: #6a8f7f;
  font-style: italic;
}

/* results */
.result {
  padding: 14px 16px;
  margin-bottom: 12px;
  background-color: #0c120f;
  border-radius: 10px;
  font-size: 13px;
  color: #9fd3b7;
}

.result span {
  display: block;
  font-size: 11px;
  color: #6a8f7f;
  margin-top: 4px;
  font-style: italic;
}

/* ERROR MODE */
body.system-error::after {
  content: "SYSTEM ERROR";
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: monospace;
  font-size: 32px;
  letter-spacing: 3px;
  color: #00e800;
  opacity: 0.35;
  pointer-events: none;
  animation: shake 0.25s infinite;
}

@keyframes shake {
  0% { transform: translate(-50%, -50%) translateX(0); }
  25% { transform: translate(-50%, -50%) translateX(-4px); }
  50% { transform: translate(-50%, -50%) translateX(4px); }
  75% { transform: translate(-50%, -50%) translateX(-2px); }
  100% { transform: translate(-50%, -50%) translateX(0); }
}

.return {
  margin-top: 30px;
  display: block;
  text-align: center;
  font-size: 13px;
  color: #7fa897;
  text-decoration: none;
}
/* locked input */
.search-box input.locked {
  background-color: #0a0f0c;
  border-color: #00e800;
  color: #4fa44f;
  pointer-events: none;
  opacity: 0.8;
}

/* leaferboy message */
.leafer-message {
  margin-top: 30px;
  font-family: "Loved by the King", cursive;
  font-size: 18px;
  color: #4fa44f;
  opacity: 0;
  line-height: 1.8;
  filter: blur(6px);
  transition: opacity 3s ease, filter 0.8s ease;
}

.leafer-message.active {
  opacity: 1;
  filter: blur(0);
}
.leafer-message.removed {
  opacity: 0;
  filter: blur(10px);
}
input.locked {
  pointer-events: none;
  opacity: 0.6;
  caret-color: transparent;
}


</style>
</head>

<body>

<div class="page">
  <h1>System Search</h1>
  <div class="meta">
    Internal index — partial access
  </div>

  <div class="search-box">
    <input 
      type="text" 
      id="searchInput" 
      placeholder="search term..."
    >
  </div>

  <div class="result" data-key="weedkiller">
    WeedKiller
    <span>product / tool</span>
    <a href="weedkiller.html" style="color: #7fa897; font-size: 11px; text-decoration: underline;">view details</a> 
  </div>

  <div class="result" data-key="leafless">
    Leafless
    <span>author / observer</span>
  </div>

  <div class="result" data-key="l34fii">
    l34fii
    <span>garden subsystem</span>
    <a href="l34fii.html" style="color: #7fa897; font-size: 11px; text-decoration: underline;">view details</a> 
  </div>

  <div class="result" data-key="system logs">
    System Logs
    <span>restricted</span>
  </div>
<div class="leafer-message" id="leaferMsg">
  you. do not need to know much about him.  
  he's a bit. socially awkward.
  .. right. but. he means well.
  just. leave him be. okay?
</div>

  <a href="../index.html" class="return">Return to MyDreams</a>
</div>

<script>
const input = document.getElementById("searchInput");
const results = document.querySelectorAll(".result");
const message = document.getElementById("leaferMsg");

let leaferboyLocked = false;

input.addEventListener("input", () => {
  let query = input.value.toLowerCase();

  /* once leaferboy is "handled", leaferboy becomes forbidden */
  if (leaferboyLocked && query.includes("leaferbo")) {
    input.value = "no";
    return;
  }

  /* first encounter */
  if (query === "leaferboy" && !leaferboyLocked) {
  input.classList.add("locked");
  input.disabled = true;      // ← THIS IS THE KEY
  input.value = "ACCESS DENIED";

  results.forEach(r => r.style.display = "none");
  message.classList.add("active");

  setTimeout(() => {
    message.classList.remove("active");
    message.classList.add("removed");

    input.classList.remove("locked");
    input.disabled = false;   // ← RE-ENABLE
    input.value = "";

    leaferboyLocked = true;
  }, 4000);

    return;
  }

  /* normal search */
  results.forEach(r => {
    const key = r.dataset.key;
    if (query === "" || key.includes(query)) {
      r.style.display = "block";
    } else {
      r.style.display = "none";
    }
  });
});
</script>



</body>
</html>
